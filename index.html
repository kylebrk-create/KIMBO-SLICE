<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
  <title>Elenack Motorplex — Email Gallery</title>
  <meta name="color-scheme" content="dark">
  <style>
    :root{
      --bg:#0f1115; --paper:#12161d; --ink:#e6edf3; --muted:#9aa7b2; --line:#1f2630;
      --brand:#C4162A; --gold:#B8860B; --header-bg:rgba(15,17,21,.9); --header-stroke:#1f2630;

      /* preview math */
      --preview-width: 600px;    /* size of the email inside the iframe */
      --preview-height: 1200px;
      --card-preview-h: 340px;   /* uniform window height for all cards */
      --radius: 14px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; padding:96px 24px 40px;
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;
      background:var(--bg); color:var(--ink);
    }
    a{color:#8ab4ff; text-decoration:none}
    h1{font-weight:800;margin:0 0 8px}
    p{margin:0 0 20px;color:var(--muted)}

    /* Header */
    .site-header{
      position:fixed; top:0; left:0; right:0; z-index:10;
      backdrop-filter:blur(8px);
      background:var(--header-bg);
      border-bottom:1px solid var(--header-stroke);
    }
    .header-inner{
      display:flex; align-items:center; justify-content:space-between;
      max-width:1200px; margin:0 auto; padding:14px 24px;
    }
    .brand{display:flex; align-items:center; gap:12px; color:inherit}
    .brand img{height:36px; width:auto}

    /* Grid */
    .grid{
      max-width:1200px; margin:0 auto;
      display:grid; grid-template-columns:repeat(auto-fill,minmax(320px,1fr));
      gap:18px;
    }

    .card{
      position:relative;
      display:flex; flex-direction:column;
      border:1px solid var(--line);
      border-radius:var(--radius);
      background:var(--paper);
      overflow:hidden;
      transition:transform .12s, box-shadow .12s, border-color .12s;
      contain: content; /* isolates layout (prevents weird stacking) */
    }
    .card:hover{transform:translateY(-2px); box-shadow:0 6px 18px rgba(0,0,0,.4); border-color:#2a3240}
    .overlay{position:absolute; inset:0; z-index:3}

    .preview-wrap{
      position:relative;
      background:#0b0f14;
      border-bottom:1px solid var(--line);
      width:100%;
      height:var(--card-preview-h);   /* UNIFORM height */
      overflow:hidden;
    }
    /* The email is rendered inside a 600x1200px iframe and scaled to fit */
    .preview{
      position:absolute; top:0; left:50%;
      width:var(--preview-width); height:var(--preview-height);
      transform-origin:top center;
      /* transform set by JS: translateX(-50%) scale(S) */
      border:0; pointer-events:none; background:#fff;
      box-shadow:0 0 0 1px #111 inset;
    }

    .meta{padding:12px 14px 14px}
    .title{font-weight:800}
    .hint{font-size:12px; color:var(--muted); margin-top:4px}

    @media (max-width:600px){
      body{padding:88px 16px 28px}
      .header-inner{padding:12px 16px}
      :root{ --card-preview-h: 300px; } /* slightly shorter on mobile */
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="site-header">
    <div class="header-inner">
      <a class="brand" href="./">
        <!-- swap the logo src if needed -->
        <img src="./assets/elenack-logo-light.svg" alt="Elenack Motorplex">
        <strong>Email Gallery</strong>
      </a>
      <div style="opacity:.8;font-size:13px">Dark mode • Live previews • Click a card</div>
    </div>
  </header>

  <!-- Main -->
  <main style="max-width:1200px; margin:0 auto">
    <h1>Preview Gallery</h1>
    <p>Click any card to open the full preview with image specs and best-practice notes.</p>

    <div class="grid">

      <!-- Accord Hybrid -->
      <article class="card">
        <a class="overlay" href="./preview.html?tpl=templates/accord-hybrid.html&id=accord"></a>
        <div class="preview-wrap">
          <iframe class="preview" src="./templates/accord-hybrid.html" loading="lazy" title="Accord Hybrid — Offers"></iframe>
        </div>
        <div class="meta">
          <div class="title">Accord Hybrid — Offers</div>
          <div class="hint">Hero + copy + bulletproof CTA</div>
        </div>
      </article>

      <!-- Service & Tires -->
      <article class="card">
        <a class="overlay" href="./preview.html?tpl=templates/service-and-tires.html&id=service"></a>
        <div class="preview-wrap">
          <iframe class="preview" src="./templates/service-and-tires.html" loading="lazy" title="Service & Tires"></iframe>
        </div>
        <div class="meta">
          <div class="title">Service &amp; Tires</div>
          <div class="hint">Scheduler CTA • 3 shortcuts</div>
        </div>
      </article>

      <!-- Certified Pre-Owned (C-10 hero) -->
      <article class="card">
        <a class="overlay" href="./preview.html?tpl=templates/cpo.html&id=cpo"></a>
        <div class="preview-wrap">
          <iframe class="preview" src="./templates/cpo.html" loading="lazy" title="Certified Pre-Owned"></iframe>
        </div>
        <div class="meta">
          <div class="title">Certified Pre-Owned</div>
          <div class="hint">Warranty & inspection • Trade-in link</div>
        </div>
      </article>

      <!-- New Vehicles (aerial lot hero) -->
      <article class="card">
        <a class="overlay" href="./preview.html?tpl=templates/new-vehicles.html&id=new"></a>
        <div class="preview-wrap">
          <iframe class="preview" src="./templates/new-vehicles.html" loading="lazy" title="New Vehicles"></iframe>
        </div>
        <div class="meta">
          <div class="title">New Vehicles</div>
          <div class="hint">Aerial lot hero • Test-drive CTA</div>
        </div>
      </article>

      <!-- Elenack Service — Spaceship Bay -->
      <article class="card">
        <a class="overlay" href="./preview.html?tpl=templates/service-elenack.html&id=service"></a>
        <div class="preview-wrap">
          <iframe class="preview" src="./templates/service-elenack.html" loading="lazy" title="Service Reminder — Spaceship Bay"></iframe>
        </div>
        <div class="meta">
          <div class="title">Service Reminder — Spaceship Bay</div>
          <div class="hint">Fun educational sample • Dark UI</div>
        </div>
      </article>

      <!-- Service Center Hero — Muddy Tractor (include only if this file exists) -->
      <article class="card">
        <a class="overlay" href="./preview.html?tpl=templates/service-center-hero.html&id=service"></a>
        <div class="preview-wrap">
          <iframe class="preview" src="./templates/service-center-hero.html" loading="lazy" title="Service Center Hero — Tractor"></iframe>
        </div>
        <div class="meta">
          <div class="title">Service Center — Muddy Tractor</div>
          <div class="hint">Hyper-real hero • Simple CTA</div>
        </div>
      </article>

    </div>
  </main>

  <script>
    // Scale each iframe so the 600px email fits the uniform preview window
    function sizePreviews(){
      const wraps = document.querySelectorAll('.preview-wrap');
      wraps.forEach(wrap => {
        const iframe = wrap.querySelector('.preview');
        if(!iframe) return;
        const wrapW = wrap.clientWidth;
        const targetW = 600;      // must match --preview-width
        const targetH = 1200;     // must match --preview-height
        const maxH = wrap.clientHeight; // uniform window height

        let scale = wrapW / targetW;   // fit width by default
        const scaledH = targetH * scale;

        // If fitting width makes it too tall for the window, cap by height
        if (scaledH > maxH) {
          scale = maxH / targetH;
        }
        iframe.style.transform = `translateX(-50%) scale(${scale})`;
      });
    }
    let _t;
    function onResize(){ clearTimeout(_t); _t = setTimeout(sizePreviews, 80); }
    window.addEventListener('load', sizePreviews);
    window.addEventListener('resize', onResize);
  </script>
</body>
</html>
