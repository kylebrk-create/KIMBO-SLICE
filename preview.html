<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width" />
<title>Elenack Motorplex — Template Preview</title>
<style>
  /* ==== DARK THEME (forced) ==== */
  :root{
    --bg:#0f1115; --paper:#12161d; --ink:#e6edf3; --muted:#9aa7b2; --line:#1f2630;
    --brand:#C4162A; --navy:#9bb5ff; --gold:#B8860B;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;
    background:var(--bg); color:var(--ink);
  }

  /* top bar */
  .bar{
    position:sticky; top:0; z-index:8;
    display:flex; gap:12px; align-items:center;
    padding:12px 16px;
    border-bottom:1px solid var(--line);
    background:rgba(15,17,21,.9);
    backdrop-filter:blur(8px);
  }
  .brand{display:flex; align-items:center; gap:10px; color:inherit; text-decoration:none; font-weight:800}
  .brand img{height:28px}

  /* layout */
  .wrap{display:grid; grid-template-columns:1fr 360px; gap:0; min-height:calc(100vh - 56px)}
  .stage{padding:20px; display:grid; place-items:start; overflow:auto}
  .frame{
    width:100%; max-width:820px; min-height:90vh;
    border:1px solid var(--line); border-radius:12px; overflow:hidden; background:#0b0f14;
  }
  .frame iframe{
    display:block; width:100%; height:100vh; border:0; background:#fff; /* email canvas is white */
  }

  .specs{
    border-left:1px solid var(--line);
    background:var(--paper); color:inherit;
    padding:16px; overflow:auto;
  }
  .specs h2{margin:0 0 12px; font-size:18px}
  .specs h3{margin:18px 0 6px; font-size:14px; color:#c7d1ff}
  .specs p,.specs li{font-size:14px; line-height:1.5; color:var(--muted)}
  .pill{display:inline-block; padding:2px 8px; border-radius:999px; background:#1f2630; font-size:12px; color:var(--ink)}
  .mono{font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-size:12px; color:var(--ink)}
  .ok{color:#22c55e}.warn{color:#f59e0b}.no{color:#ef4444}

  @media (max-width:980px){
    .wrap{grid-template-columns:1fr}
    .specs{border-left:none; border-top:1px solid var(--line)}
  }
</style>
<script>
  const qs = new URLSearchParams(location.search);
  const tpl = qs.get('tpl');     // e.g., templates/accord-hybrid.html
  const id  = qs.get('id');      // accord | service | cpo | new

  const SECTIONS = {
    accord: {
      title: "Accord Hybrid — Offers",
      imgSpec: [
        { part: "Hero", size:"600×(auto) px", maxKB:"< 200 KB", type:"JPG (80–85%)", note:"Use alt text. Avoid WebP for email." },
      ],
      notes: [
        ["Preheader", "Hidden snippet of ~85–130 chars; complements subject line."],
        ["Hero", "Export at 600px wide; keep under 200 KB; JPG for photos, PNG for flat graphics."],
        ["Primary CTA", "Bulletproof button (VML) with 44px min height. Clear action verb."],
        ["Copy", "Short lines (40–70 chars). Speak to outcome. Avoid walls of text."],
        ["Legal", "Inline panel; keep under 2–3 lines. Link to full T&Cs."],
      ],
    },
    service: {
      title: "Service & Tires",
      imgSpec: [{ part:"Hero", size:"600×(auto) px", maxKB:"< 180 KB", type:"JPG (80%)", note:"Shop imagery; compress well." }],
      notes: [
        ["Scheduler CTA", "Link to online scheduler; add phone fallback."],
        ["Three Shortcuts", "Oil, Brakes, Battery. Deep-link when possible."],
        ["Hours Panel", "Keep hours in live text for accessibility & indexing."],
      ],
    },
    cpo: {
      title: "Certified Pre-Owned",
      imgSpec: [{ part:"Hero", size:"600×(auto) px", maxKB:"< 200 KB", type:"JPG", note:"Show multiple models / lot scene." }],
      notes: [
        ["Trust Row", "Warranty, inspection, CARFAX® in live text."],
        ["Secondary CTA", "Trade-in valuation link can add 5–15% leads."],
      ],
    },
    new: {
      title: "New Vehicles",
      imgSpec: [{ part:"Hero", size:"600×(auto) px", maxKB:"< 200 KB", type:"JPG", note:"Keep text on image minimal; use live text below." }],
      notes: [
        ["Models Row", "List 4–6 featured models in text (not baked into image)."],
        ["Test Drive CTA", "Add a separate test drive link; different intent converts."],
      ],
    }
  };

  function renderSpecs(){
    const spec = SECTIONS[id] || {title:"Template Preview", imgSpec:[], notes:[]};
    document.getElementById('title').textContent = spec.title;

    const imgList = document.getElementById('img-list');
    imgList.innerHTML = spec.imgSpec.length
      ? spec.imgSpec.map(s => `<li><strong>${s.part}:</strong> ${s.size} • <span class="pill">${s.maxKB}</span> • ${s.type} — <span class="mono">${s.note}</span></li>`).join('')
      : "<li>No specific image specs.</li>";

    const desc = document.getElementById('notes');
    desc.innerHTML = spec.notes.length
      ? spec.notes.map(([h,t]) => `<h3>${h}</h3><p>${t}</p>`).join('')
      : "<p>No additional notes.</p>";

    const src = document.getElementById('open-src');
    src.href = tpl || '#';
    src.textContent = tpl || '—';

    if(tpl){ document.getElementById('frame').src = tpl; }
  }

  document.addEventListener('DOMContentLoaded', renderSpecs);
</script>
</head>
<body>
  <div class="bar">
    <a class="brand" href="./">
      <img src="./assets/elenack-logo-light.svg" alt="Elenack Motorplex">
      <span>Template Preview</span>
    </a>
    <div style="margin-left:auto"><a href="./" style="color:#8ab4ff">← Back to Gallery</a></div>
  </div>

  <div class="wrap">
    <section class="stage">
      <div class="frame">
        <iframe id="frame" title="Template preview"></iframe>
      </div>
    </section>

    <aside class="specs" aria-labelledby="title">
      <h2 id="title">Template Preview</h2>

      <h3>Image Specs</h3>
      <ul id="img-list"></ul>

      <h3>Email Best Practices (built-in)</h3>
      <ul>
        <li><span class="ok">✓</span> 600px max width layout (widest common denominator)</li>
        <li><span class="ok">✓</span> Bulletproof buttons (VML) for Outlook</li>
        <li><span class="ok">✓</span> Hidden preheader text (85–130 chars)</li>
        <li><span class="ok">✓</span> Live text for headlines/CTAs (don’t bake copy into images)</li>
        <li><span class="ok">✓</span> ALT text on all images; meaningful first frame if using GIF</li>
        <li><span class="ok">✓</span> CAN-SPAM footer with physical address + unsubscribe</li>
      </ul>

      <h3>File Types & Sizes</h3>
      <ul>
        <li>Photos: <strong>JPG</strong> (80–85%). Logos/UI: <strong>PNG</strong>. Avoid <strong>WebP</strong> (not universal).</li>
        <li>Hero: ideally <strong>&lt;200 KB</strong>; total images <strong>&lt;1.2 MB</strong>.</li>
        <li>Include explicit <code class="mono">width</code> on <code class="mono">&lt;img&gt;</code>; add <code class="mono">style="height:auto;"</code>.</li>
      </ul>

      <h3>Repeatable Editing Process</h3>
      <ol>
        <li>Duplicate a template in <code class="mono">/templates</code> and rename (lowercase, hyphens).</li>
        <li>Swap the hero URL and copy. Export hero at <strong>600px wide JPG</strong>, &lt;200 KB.</li>
        <li>Update CTA links + UTMs. Keep label 2–4 words.</li>
        <li>Set preheader to 85–130 chars; complement the subject line.</li>
        <li>Confirm footer address & unsubscribe link.</li>
        <li>Preview here; send tests from ESP to Gmail + Outlook.</li>
      </ol>

      <h3>Source File</h3>
      <p><a id="open-src" href="#" target="_blank" rel="noopener">Open raw HTML</a></p>
    </aside>
  </div>
</body>
</html>
